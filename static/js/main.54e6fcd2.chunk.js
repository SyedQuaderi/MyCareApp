(this.webpackJsonpCarePlan=this.webpackJsonpCarePlan||[]).push([[0],{119:function(e,a,t){"use strict";t.r(a);t(71),t(72),t(73);var n=t(0),c=t.n(n),l=t(23),r=t.n(l);t(78),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=t(19),i=(t(43),t(6)),s=t(68),m=t(31),u=t(121),d=t(122),E=t(64),f=t(12),p=t.n(f),g=t(124),b=t(17),v=t(127),h=t(123),N=t(16),O=window,j=t(9),y=t.n(j);var C=function(e){var a=O.APIConfig.PROD_API,t=Object(b.f)().id,l=Object(n.useState)(0),r=Object(i.a)(l,2),o=(r[0],r[1],Object(n.useState)("")),s=Object(i.a)(o,2),p=(s[0],s[1],Object(n.useState)([])),g=Object(i.a)(p,2),j=g[0],C=g[1],S=Object(n.useState)(0),I=Object(i.a)(S,2),w=I[0],A=I[1],P=Object(n.useState)({carePlanloading:!1,activityLoading:!1}),k=Object(i.a)(P,2),F=k[0],x=k[1],T=Object(n.useState)([]),D=Object(i.a)(T,2),L=D[0],R=D[1],B="";function M(e){_(e)}function _(e){A(e!==w?e:0)}return Object(n.useEffect)((function(){return e.setActiveName("MyActivity"),e.setActiveFocus(1),x({activityLoading:!0}),B="v1",y.a.get("".concat(a,"/").concat(B,"/careplan/activity/").concat(t)).then((function(e){C(e.data),x({activityLoading:!1}),R(["Today","Tomorrow"])})).catch((function(e){console.log(e)})),function(){!0}}),[]),c.a.createElement(u.a,{fluid:!0},F.activityLoading?c.a.createElement(m.a,{className:" text-blue",variant:"warning",animation:"border",role:"status"}):c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,{sm:12,className:"pt-0 pl-5 care-plan-main-content"},c.a.createElement("h3",{className:"care-plan-font-settings text-left pb-1"}," ",L[0]," "),c.a.createElement(d.a,{className:"active"},j.map((function(e){return null!==e.date?c.a.createElement(E.a,{sm:3,key:e.fieldId,className:"pb-2 card-main"},c.a.createElement(f.Focusable,{className:"active",onClickEnter:function(){return _(e.fieldId)},onFocus:function(){return M(e)}},c.a.createElement(v.a,{onClick:function(){return _(e.fieldId)}},c.a.createElement("div",{className:"card-toggle",style:w===e.fieldId?{display:"block"}:{display:"none"}},c.a.createElement("p",null," ",e.description)),c.a.createElement(v.a.Body,null,c.a.createElement(v.a.Title,{className:"pt-4 "},e.description),c.a.createElement(v.a.Text,null,""!==e.text?c.a.createElement(N.e,null):c.a.createElement("span",null,"\xa0")," ",e.text),c.a.createElement(v.a.Title,{className:"care-plan-time"},"14:15")),c.a.createElement(h.a,null,c.a.createElement("p",{className:"care-plan-status"},e.status)),c.a.createElement(v.a.Footer,{style:{backgroundColor:e.statusCSS}})))):null}))),c.a.createElement("h3",{className:"care-plan-font-settings text-left pb-1"}," ",L[1]," "),c.a.createElement(d.a,null,j.map((function(e){return null===e.date?c.a.createElement(E.a,{sm:3,key:e.fieldId,className:"pb-5 card-main"},c.a.createElement(f.Focusable,{className:"active",onClickEnter:function(){return _(e.fieldId)},onFocus:function(){return M(e)}},c.a.createElement(v.a,{onClick:function(){return _(e.fieldId)}},c.a.createElement("div",{className:"card-toggle",style:w===e.fieldId?{display:"block"}:{display:"none"}},c.a.createElement("p",null," ",e.description)),c.a.createElement(v.a.Body,null,c.a.createElement(v.a.Title,{className:"pt-4 "},e.description),c.a.createElement(v.a.Text,null,""!==e.text?c.a.createElement(N.e,null):c.a.createElement("span",null,"\xa0")," ",e.text),c.a.createElement(v.a.Title,{className:"care-plan-time"},"10:30 PM")),c.a.createElement(h.a,null,c.a.createElement("p",{className:"care-plan-status"},e.status)),c.a.createElement(v.a.Footer,{style:{backgroundColor:e.statusCSS}})))):null}))))))},S=t(41),I=(t(37),t(125)),w=t(126);var A=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(I.a,{show:e.show,onHide:e.handleClose},c.a.createElement(I.a.Header,{closeButton:!0},c.a.createElement(I.a.Title,null,"Add Goal")),c.a.createElement(I.a.Body,{className:"ml-5"},c.a.createElement("p",{className:"goal-intro"},"It is important to work with your Care Team when you set these goals"),c.a.createElement(d.a,null,c.a.createElement(E.a,{sm:12},c.a.createElement(w.a,null,c.a.createElement(d.a,null,c.a.createElement(E.a,{sm:2,className:"mt-2"},c.a.createElement(w.a.Label,null,"Title")),c.a.createElement(E.a,{sm:8},c.a.createElement(w.a.Control,{id:"goalTitle",type:"text",placeholder:"Insert a title for your Goal here",required:!0}))),c.a.createElement(d.a,{className:"mt-4"}),c.a.createElement(d.a,null,c.a.createElement(E.a,{sm:2},c.a.createElement(w.a.Label,null,"Description")),c.a.createElement(E.a,{sm:8},c.a.createElement(w.a.Control,{id:"goalDescription",as:"textarea",required:!0})))))),c.a.createElement(d.a,{className:"mt-4"}),c.a.createElement(d.a,{className:"mr-4"},c.a.createElement(E.a,{className:"col-sm-6"}),c.a.createElement(d.a,null,c.a.createElement(E.a,{sm:6},c.a.createElement(g.a,{className:"cancel-goal",variant:"secondary",onClick:e.handleClose},"Close")),c.a.createElement(E.a,{sm:6},c.a.createElement(g.a,{className:"save-goal",variant:"primary",onClick:e.handleClose},"Save Goal"))),c.a.createElement(E.a,{sm:2})))))};var P=function(e){var a=O.APIConfig.URN1,t=(O.APIConfig.URN2,O.APIConfig.PROD_API),l=Object(n.useState)(""),r=Object(i.a)(l,2),o=(r[0],r[1],Object(n.useState)([])),s=Object(i.a)(o,2),p=s[0],b=s[1],v=Object(n.useState)(""),h=Object(i.a)(v,2),j=(h[0],h[1],Object(n.useState)(!1)),C=Object(i.a)(j,2),I=C[0],w=C[1],P=(Object(n.useRef)([c.a.createRef(),c.a.createRef()]),Object(n.useState)([])),k=Object(i.a)(P,2),F=(k[0],k[1],Object(n.useState)(!1)),x=Object(i.a)(F,2),T=x[0],D=x[1],L=Object(n.useState)(0),R=Object(i.a)(L,2),B=R[0],M=R[1],_=Object(n.useState)(!1),G=Object(i.a)(_,2),H=G[0],U=G[1],q="v1",J="";function W(e){J=q,y.a.put("".concat(t,"/").concat(J,"/careplan/goal/update/").concat(e.fieldId),{isCompleted:!0}).then((function(e){J=q,y.a.get("".concat(t,"/").concat(J,"/careplan/goal/").concat(a)).then((function(e){b(e.data),w(!1);var a=e.data.filter((function(e){return e.isCompleted}));0!==a.length&&D(!0),M(a.length)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}function K(e){J=q,y.a.put("".concat(t,"/").concat(J,"/careplan/goal/update/").concat(e.fieldId),{isCompleted:!1}).then((function(e){J=q,y.a.get("".concat(t,"/").concat(J,"/careplan/goal/").concat(a)).then((function(e){b(e.data),w(!1);var a=[e.data.filter((function(e){return!e.isCompleted})),e.data.filter((function(e){return e.isCompleted}))],t=a[0],n=a[1];M(Math.abs(t.length-e.data.length)),0===n.length&&D(!1)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}Object(n.useEffect)((function(){return e.setActiveName("MyGoals"),e.setActiveFocus(3),w(!0),J=q,y.a.get("".concat(t,"/").concat(J,"/careplan/goal/").concat(e.id)).then((function(a){b(a.data),w(!1),console.log("goals","".concat(t,"/").concat(J,"/careplan/goal/").concat(e.id));var n=a.data.filter((function(e){return e.isCompleted}));0!==n.length&&D(!0),M(n.length)})).catch((function(e){console.log(e)})),function(){!0}}),[]);var V=function(){return U(!0)},Y=function(){var a={Title:document.getElementById("goalTitle").value,Description:document.getElementById("goalDescription").value};J=q,y.a.post("".concat(t,"/").concat(J,"/careplan/goal/create/").concat(e.id),a).then((function(a){J=q,y.a.get("".concat(t,"/").concat(J,"/careplan/goal/").concat(e.id)).then((function(e){b(e.data),w(!1);var a=e.data.filter((function(e){return e.isCompleted}));0!==a.length&&D(!0),M(a.length)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))};return c.a.createElement(u.a,{fluid:!0},I?c.a.createElement(m.a,{className:"text-blue",variant:"info",animation:"border",role:"status"}):c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,null,c.a.createElement(E.a,{sm:12},c.a.createElement(d.a,null,p.length?c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,{sm:8,className:"text-left pl-5"},c.a.createElement("h4",{className:"goals-count"},"You have completed ",B," of ",p.length," goals"),c.a.createElement("h4",{className:"goals-motive"},"Keep going you can do it")),c.a.createElement(S.CustomView,{condition:!S.isOpera},c.a.createElement(E.a,{sm:2,className:"text-right"},c.a.createElement(g.a,{onClick:V,className:"activity-button-active add-new-goals"},"Add new Goal")))):null))),c.a.createElement(d.a,null,c.a.createElement(E.a,{sm:12,className:"pt-3 pl-5 goal-main-content"},c.a.createElement(f.FocusableSection,{defaultElement:"active"},c.a.createElement(d.a,{className:"incomplete-goals"},p.filter((function(e){return!e.isCompleted})).map((function(e){return c.a.createElement(E.a,{sm:10,key:e.fieldId,className:"pb-3 goal-card-main mt-2",onClick:function(){return W(e)}},c.a.createElement(f.Focusable,{className:"active",onClickEnter:function(){return W(e)}},c.a.createElement(d.a,{className:"goals-main"},c.a.createElement(E.a,{sm:12,className:"pl-0 pr-0"},c.a.createElement("h3",{className:"goals-title"},e.header),c.a.createElement(N.c,null),c.a.createElement("p",{className:"goals-description"},e.text)))))}))),c.a.createElement(d.a,null,T?c.a.createElement("h4",{className:"completed-goals text-left pl-3 mb-3 mt-3"},"Completed Goals"):null),c.a.createElement(d.a,{className:"completed-goal"},p.filter((function(e){return e.isCompleted})).map((function(e){return c.a.createElement(E.a,{sm:10,key:e.fieldId,className:"pb-3 goal-card-main",onClick:function(){return K(e)}},c.a.createElement(f.Focusable,{className:"active",onClickEnter:function(){return K(e)}},c.a.createElement(d.a,{className:"goals-main"},c.a.createElement(E.a,{sm:12,className:"pl-0 pr-0"},c.a.createElement("h3",{className:"goals-title"},e.header),c.a.createElement(N.d,null),c.a.createElement("p",{className:"goals-description"},e.text)))))}))))))),c.a.createElement(A,{handleClose:function(){U(!1),Y()},handleShow:V,show:H}))};var k=function(e){var a=O.APIConfig.PROD_API,t=Object(n.useState)([]),l=Object(i.a)(t,2),r=l[0],s=l[1],m=Object(n.useState)(0),u=Object(i.a)(m,2),d=u[0],E=u[1],p=Object(n.useState)([]),v=Object(i.a)(p,2),h=v[0],N=(v[1],Object(n.useState)(0)),j=Object(i.a)(N,2),S=j[0],I=j[1],w=Object(n.useState)({carePlanloading:!1,activityLoading:!1}),A=Object(i.a)(w,2),k=A[0],F=A[1],x=Object(n.useState)([]),T=Object(i.a)(x,2),D=T[0],L=(T[1],""),R=Object(b.f)().id;return Object(n.useEffect)((function(){return F({carePlanloading:!0}),L="v1",console.log("id",R),y.a.get("".concat(a,"/").concat(L,"/careplan/section/").concat(R)).then((function(e){s(e.data),F({carePlanloading:!1})})).catch((function(e){console.log(e)})),function(){!0}}),[]),c.a.createElement("div",null,c.a.createElement(o.a,null,c.a.createElement("div",{className:"d-flex"},c.a.createElement("div",{className:"sidebar"},c.a.createElement(f.FocusableSection,{defaultElement:"active"},r.map((function(e,a){return c.a.createElement(o.b,{to:"/".concat(R,"/").concat(e.code),key:a},c.a.createElement(g.a,{className:"activity-button "+(d===e.carePlanSectionId?"activity-button-active ":"activity-button-inactive")},e.header,c.a.createElement("div",{className:"selection-arrow "+(d===e.carePlanSectionId?"selection-arrow-active ":"selection-arrow-inactive")})))})))),c.a.createElement("div",{className:"d-flex w-100 justify-content-center p-2"},c.a.createElement(b.c,null,c.a.createElement(b.a,{path:"/:id/SCHED",children:c.a.createElement(C,{activities:h,showActivityDetials:S,toggleActivity:function(e){I(e!==S?e:0)},isLoading:k.activityLoading,schedule:D,setActiveFocus:E,setActiveName:e.setActiveName,id:R})}),c.a.createElement(b.a,{path:"/:id/GOALS",children:c.a.createElement(P,{setActiveFocus:E,setActiveName:e.setActiveName,id:R})}))))))},F=t(29);var x=function(e){return c.a.createElement(d.a,null,c.a.createElement(E.a,{sm:8,className:"mycare-plan-header"},c.a.createElement(F.a,null,c.a.createElement(F.a.Item,{href:"#",className:"care-plan-home-icon"},c.a.createElement(N.b,null)),c.a.createElement(F.a.Item,{href:"#",className:"pt-4"},c.a.createElement(N.a,{className:"care-plan-fa-icon mr-1"}),"My Care"),c.a.createElement(F.a.Item,{className:"pt-4"},c.a.createElement(N.a,{className:"care-plan-fa-icon mr-1"}),e.activity))),c.a.createElement(E.a,{sm:4,className:"pt-3"},c.a.createElement("h1",{className:"care-plan-font-settings text-right pr-5"})))},T={patientDetails:{client:{},bed:{ward:{}},patient:{}}},D=function(e,a){switch(a.type){case"FETCH_SUCCESS":return Object(s.a)({},e,{patientDetails:a.patient});case"FETCH_FAILURE":return{patientDetails:{}};default:return e}},L=function(){var e=O.PESLiteImages.carePlanAppbg,a=Object(n.useReducer)(D,T),t=Object(i.a)(a,2),l=t[0],r=t[1],o=Object(n.useState)([]),s=Object(i.a)(o,2),g=s[0],v=(s[1],Object(n.useState)(0)),h=Object(i.a)(v,2),N=h[0],j=(h[1],Object(n.useState)("")),C=Object(i.a)(j,2),S=C[0],I=C[1],w=Object(n.useState)({carePlanloading:!1,activityLoading:!1}),A=Object(i.a)(w,2),P=A[0],F=(A[1],Object(n.useRef)([c.a.createRef(),c.a.createRef()])),L=Object(n.useState)(!1),R=Object(i.a)(L,2),B=R[0],M=(R[1],O.APIConfig),_=M.PROD_API;Object(n.useEffect)((function(){y.a.get("".concat(_,"/").concat("v1","/client/").concat(M.MacID)).then((function(e){return r({type:"FETCH_SUCCESS",patient:e.data})})).catch((function(e){r({type:"FETCH_FAILURE",patient:{}})}))}),[]);var G={backgroundImage:"url(/".concat(e,")")};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:G,className:" care-plan-main-body"},P.carePlanloading?c.a.createElement(m.a,{className:"text-blue",variant:"warning",animation:"border",role:"status"}):c.a.createElement(u.a,{fluid:!0},c.a.createElement(p.a,null,c.a.createElement(d.a,null,c.a.createElement(E.a,{sm:12},c.a.createElement(f.FocusableSection,{defaultElement:"active"},c.a.createElement(x,{activity:S,homePageLink:B,patient:l.patientDetails.patient})))),c.a.createElement(d.a,null,c.a.createElement(E.a,{sm:12,className:"pl-0"},c.a.createElement(b.c,null,c.a.createElement(b.a,{path:"/:id",children:c.a.createElement(k,{mainMenu:g,activeFocus:N,mainMenuItem:F,setActiveName:I})}))))))))},R=function(){return c.a.createElement("div",null,c.a.createElement(L,null))};r.a.render(c.a.createElement("div",null,c.a.createElement(o.a,null,c.a.createElement(R,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},37:function(e,a,t){},43:function(e,a,t){},70:function(e,a,t){e.exports=t(119)},78:function(e,a,t){}},[[70,1,2]]]);
//# sourceMappingURL=main.54e6fcd2.chunk.js.map